# Exercise 3.4


> Control Plane 에서 진행

1.Deployment 배포

```
kubectl create deployment nginx --image=nginx
```

##

2.Deployment 조회
```
kubectl get deployment
```

##

3.Deployment 상세 조회
```
kubectl describe Deployment
```

##

4.클러스터에서 새 애플리케이션을 가져오고 배포하기 위해 수행한 기본 단계 확인

```
kubectl get events
```

##

5.yaml 형태로 Deployment 출력
```
kubectl get deployment nginx -o yaml
```

##

6.파일로 변환
```
kubectl get deployment nginx -o yaml > first.yaml
```

##

7.status 필드 삭제 (120라인부근)
```
vi first.yaml
```

##

8.기존 Deployment 삭제
```
kubectl delete deployment nginx
```

##

9.수정한 yaml을 기반으로 Deployment 생성

```
kubectl create -f first.yaml
```

##

10.다시 Deployment를 yaml 파일로 변환

```
kubectl get deployment nginx -o yaml > second.yaml
```

##

11.두 파일 비교
```
diff first.yaml second.yaml
```

##

12.Deployment 생성확인 명령 실행 (--dry-run 옵션을 사용하면 실제 배포되지않음.)
```
kubectl create deployment two --image=nginx --dry-run=client -o yaml
```

##

13.deployment 확인
```
kubectl get deployment
```

##

14.yaml 형태로 출력
```
kubectl get deployment nginx -o yaml
```

##

15.json 형태로 출력
```
kubectl get deployment nginx -o json
```

##

16.기본 페이지를 볼수 있도록 서비스 생성
```
kubectl expose deployment/nginx
```

##

17.first.yaml 파일에 포트 옵션 추가
```
spec:
  containers:
  - image: nginx
    imagePullPolicy: Always
    name: nginx
    ports:                  # This
    - containerPort: 80     # three
      protocol: TCP         # line
```

##

18.수정된 내용으로 기존 Deployment 삭제 후 재 배포
```
kubectl replace -f first.yaml
```

##

19.새로 배포된 Deployment와 Pod 조회

```
kubectl get deploy,pod
```

##

20.다시 서비스 생성

```
kubectl expose deployment/nginx
```

##

21.서비스 확인
```
kubectl get svc nginx
```

##

22.endpoint 확인
```
kubectl get ep nginx
```

##

23.
